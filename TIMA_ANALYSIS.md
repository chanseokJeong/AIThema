# 티마(TIMA) 앱 vs 현재 시스템 심층 비교 분석

## 📊 티마 앱 데이터 분석 (2025.12.03 17:00 기준)

### 테마 순위 및 점수

| 순위 | 테마명 | 점수 | 주요 종목 (등락률) |
|------|--------|------|-------------------|
| 1 | 타미날재개발 | 24.16 | 천일고속(29.97%), 대성산업(29.93%), 동양고속(29.87%) |
| 2 | 로봇 | 15.56 | **당글로누드(29.52%)**, 스벡(21.20%), 로보스타(7.73%) |
| 3 | 바이오개별 | 11.52 | 삼성에피스홀딩스(24.21%), 뉴로핏(11.05%) |
| 4 | 비만치료제 | 7.39 | 인벤티지랩(11.06%), 이아이켐(10.41%) |
| 5 | 원자력발전 | 6.83 | 우진(8.84%), 현대건설(6.98%) |
| 6 | 배당분리과세 | 6.69 | 삼성물산(8.91%), CJ(6.40%) |
| 7 | 반도체 | 4.80 | 태성(10.03%), 섬텍(9.02%) |
| 8 | 개별이슈 | 18.76 | 코참(29.98%), 비즈온넥스텍(20.66%) |

---

## 🔍 핵심 차이점 5가지

### ⚠️ 1. 종목 발굴 방식의 근본적 차이

**티마 (로봇 테마 예시):**
- ✅ 당글로누드: 29.52% ← 종목명에 "로봇" 없음!
- ✅ 스벡: 21.20% ← "로봇 센서" 관련
- ✅ 로보스타: 7.73%
- ✅ 고영: 3.78% ← 검사장비 (로봇 관련)

**현재 시스템:**
- ❌ 레인보우로보틱스: 0%
- ❌ 두산로보틱스: 0%
- ❌ 로보티즈: 0%

**문제점:**
```javascript
// 현재 방식: 종목명 직접 매칭
stocks: ['레인보우로보틱스', '두산로보틱스', '로보티즈']
// 결과: 이 종목들이 오늘 안 오르면 0%

// 티마 방식: 업종 기반 실시간 급등주 검색
1. 업종 코드로 "로봇 관련 전체 종목" 조회
2. 그 중 오늘 급등한 종목만 선별
3. 결과: 당글로누드, 스벡 등 "실제로 오르는 종목" 발견
```

### 💡 2. 거래대금 데이터의 정확성

**티마:**
```
천일고속: 29.97% (거래량: 399,000주 / 거래대금: 433억)
대성산업: 29.93% (6,230주 / 574억)
삼성에피스홀딩스: 24.21% (549,000주 / 19,159억) ⭐
```

**현재 시스템:**
```
천일고속: 29.97% (거래대금: 0원) ❌
```

→ 네이버 스크래핑 실패. API 사용 필요.

### 📰 3. 뉴스 헤드라인의 구체성

**티마 (로봇 테마):**
> "K.피치원, 3대 특색/'로봇'-센서·소프트웨어'"

**티마 (원자력 테마):**
> "풍산은 '핵탄 미디토지 건5009달라, 원전...'"

**현재 시스템:**
> "로봇 테마 주도주" (일반적)

→ 티마는 **뉴스와 종목을 1:1 매칭**하여 구체적 근거 제시.

### 🎯 4. 테마 점수 계산 방식

**티마의 로봇 테마 (15.56점) 역산:**
```
(29.52 + 21.20 + 7.73 + 3.78) / 4 = 15.56
→ 단순 평균!
```

**티마의 타미날재개발 (24.16점):**
```
(29.97 + 29.93 + 29.87 + 6.89) / 4 = 24.16
→ 단순 평균!
```

**결론:**
- ❌ 거래대금 가중평균 아님
- ✅ **상위 4개 종목 단순 평균**

### 🔄 5. 업종 기반 종목 발굴

**티마의 비만치료제 테마:**
- 인벤티지랩
- 이아이켐
- 지투지바이오
- 디앤디파마텍

→ 종목명에 "비만" 없음! **업종/사업 내용으로 검색**

---

## 🚨 현재 시스템의 치명적 문제

### 문제 1: 하드코딩된 종목 리스트
```javascript
'로봇': {
    stocks: ['레인보우로보틱스', '두산로보틱스', '로보티즈']
}
```

**오늘 이 종목들이 안 오르면?**
→ 로봇 테마 0점!

**티마는?**
→ "로봇" 업종의 **모든 종목** 중 급등주를 실시간 검색
→ 당글로누드, 스벡 발견!

### 문제 2: 종목명 키워드 매칭의 한계
```javascript
// 현재 방식
if (stock.name.includes('로봇') || stock.name.includes('로보'))
    → theme = '로봇'
```

**한계:**
- "당글로누드" ← 로봇 관련이지만 종목명에 "로봇" 없음
- "스벡" ← 로봇 센서이지만 "로봇" 없음
- "고영" ← 로봇 검사장비이지만 "로봇" 없음

---

## 💡 해결책: 업종 코드 기반 시스템

### 네이버 금융 업종 분류

```
로봇 관련 업종:
- 기계 (020) → 자동화장비, 로봇
- 전기전자 (021) → 로봇 제어기
- 의료정밀 (026) → 의료로봇
- IT부품 (229) → 로봇 센서

바이오 관련 업종:
- 의약품 (032)
- 바이오 (033)
- 제약 (034)

2차전지 관련 업종:
- 전기전자 (021)
- 2차전지 (220)
```

### 개선 방안

```javascript
// 1. 업종 코드별 종목 크롤링
const sectorStocks = {
    '로봇': fetchSectorStocks(['020', '021', '026', '229']),
    '바이오': fetchSectorStocks(['032', '033', '034']),
    '2차전지': fetchSectorStocks(['220', '021'])
}

// 2. 업종 내 급등주만 필터링
const risingStocks = sectorStocks['로봇'].filter(s => s.rate >= 5)

// 3. 상위 4개로 테마 생성
theme = {
    name: '로봇',
    stocks: risingStocks.slice(0, 4),
    score: average(risingStocks.slice(0, 4))
}
```

---

## 📈 티마의 데이터 수집 추정 프로세스

```
1. [09:00] 장 시작 → 전 종목 실시간 시세 모니터링

2. [실시간] 급등주 발견
   - 당글로누드 +29.52% 감지
   - 업종 확인: "기계" (로봇 관련)
   - → 로봇 테마에 자동 추가

3. [뉴스 매칭]
   - "당글로누드" 관련 뉴스 검색
   - "K.피치원, 3대 특색/'로봇'-센서" 발견
   - → 헤드라인으로 설정

4. [점수 계산]
   - 로봇 업종 급등주 Top 4: [29.52, 21.20, 7.73, 3.78]
   - 평균: 15.56

5. [정렬 및 표시]
   - 점수 순으로 정렬
   - 화면에 표시
```

---

## 🎯 간극을 좁히기 위한 우선순위

### 1순위: 업종 코드 기반 종목 수집 ⭐⭐⭐⭐⭐
- 효과: 당글로누드, 스벡 등 "숨은 급등주" 발견
- 난이도: 중
- 예상 시간: 3-4시간

### 2순위: 점수 계산 방식 변경 ⭐⭐⭐⭐
- 현재: 거래대금 가중평균
- 티마: 상위 4개 단순 평균
- 난이도: 하
- 예상 시간: 30분

### 3순위: 거래대금 정확도 개선 ⭐⭐⭐
- 네이버 API 또는 다른 소스 활용
- 난이도: 중
- 예상 시간: 2시간

### 4순위: 뉴스-종목 1:1 매칭 ⭐⭐
- 각 종목별 관련 뉴스 찾기
- 난이도: 높음
- 예상 시간: 4-5시간

---

## 🔬 티마의 핵심 경쟁력

1. **실시간 업종 모니터링**
   - 전 종목 실시간 시세 추적
   - 업종별 상승률 계산

2. **동적 테마 생성**
   - 오늘 급등한 업종을 자동으로 테마화
   - 하드코딩 없음

3. **뉴스 검증**
   - 급등주 발견 → 뉴스 검색 → 이유 확인

4. **단순 평균 점수**
   - 상위 4개 종목 평균
   - 직관적이고 빠름

---

## 📝 즉시 적용 가능한 개선안

```javascript
// 점수 계산 방식 변경
function calculateThemeScore(stocks) {
    // 티마 방식: 상위 4개 단순 평균
    const sortedStocks = [...stocks].sort((a, b) => b.rate - a.rate);
    const top4 = sortedStocks.slice(0, 4);
    return top4.reduce((sum, s) => sum + s.rate, 0) / 4;
}
```

이렇게만 바꿔도 점수가 티마와 비슷해짐!

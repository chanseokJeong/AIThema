# Tima 앱 vs 현재 앱 비교 분석 보고서

## 1. 개요
사용자가 제공한 Tima 앱 스크린샷과 현재 개발 중인 앱의 스크린샷을 비교 분석하였습니다. 디자인적인 요소를 제외하고 **콘텐츠(테마 분류, 종목 구성)** 측면에서의 차이점을 중점적으로 분석했습니다.

## 2. 주요 차이점 상세 분석 (Gap Analysis)

### 2.1 📉 종목 구성의 순도 (Stock Purity) - **가장 큰 차이점**
| 구분 | Tima (목표) | 현재 앱 (Current) |
| :--- | :--- | :--- |
| **구성** | **순수 개별 주식** 위주 | **ETF, ETN, 스팩, 우선주**가 혼재됨 |
| **예시** | `현대차`, `에코프로`, `알테오젠` 등 기업 종목 | `TIGER 미국...`(ETF), `엔에이치스팩32호`(SPAC), `금호건설우`(우선주) |
| **문제점** | - | "테마"를 보러 왔는데 "상품(ETF)"이나 "우선주/스팩"이 상위를 차지하여 진짜 주도주를 가림. |

> **분석**: 현재 시스템은 등락률이 높은 순서대로 종목을 가져오다 보니, 변동성이 큰 **스팩(SPAC)** 주식이나 **레버리지 ETF**들이 필터링 없이 그대로 노출되고 있습니다.

### 2.2 🏷️ 테마 분류 방식 (Categorization)
| 구분 | Tima (목표) | 현재 앱 (Current) |
| :--- | :--- | :--- |
| **분류 기준** | **철저한 산업/이슈 중심** | **종목 속성(Type)** 중심의 분류가 섞임 |
| **테마명** | `로봇`, `자동차`, `건설`, `반도체` (명확함) | `스팩`, `우선주` (섹터가 아님), `에너지 (원자력 & SMR)` (복잡함) |
| **기타 처리** | 잡다한 종목은 `개별이슈`로 통합 추정 | 스팩, 우선주가 각각 거대한 메인 테마를 차지함 |

> **분석**: Tima는 "시장의 돈이 어디로 쏠리는가(섹터)"를 보여주는 반면, 현재 앱은 "어떤 **종류**의 주식이 오르는가(스팩, 우선주)"를 보여주는 경향이 있습니다. 이는 AI 프롬프트에서 "산업별로 묶어라"는 지시가 부족하거나, 입력 데이터 자체가 스팩/우선주 위주여서 발생합니다.

### 2.3 📊 데이터의 질과 표현 (Data Quality)
- **Tima**: 종목 카드에 **거래대금**이 명시되어 있습니다. (예: 1,535억, 2,148억). 이는 해당 종목이 "진짜 주도주"인지 "거래량 없는 급등주"인지 판단하는 핵심 지표입니다.
- **현재 앱**: 거래대금 정보가 시각적으로 부족하거나, 데이터 수집 단계에서 정확도가 낮을 수 있습니다.

---

## 3. 원인 분석 (Root Cause)

1.  **필터링 로직 부재**: 백엔드(`market.js`) 크롤링 단계 및 AI 분석 단계에서 ETF, ETN, 스팩, 우선주를 걸러내는 로직이 없습니다.
2.  **데이터 소스 의존성**: 네이버 '급등주' 페이지는 기본적으로 스팩, 우선주, ETF를 모두 포함해서 보여줍니다. 이를 그대로 긁어오면 노이즈가 섞입니다.
3.  **AI 프롬프트 한계**: `analyzer.js`의 프롬프트가 "종목의 속성(스팩, 우선주)으로 묶지 말고 산업으로 묶어라"는 명시적 제약 조건이 없습니다.

---

## 4. 해결 방안 (Action Plan)

### ✅ Step 1: 노이즈 필터링 (즉시 적용 필요)
`market.js` 또는 `analyzer.js` 단계에서 다음 키워드가 포함된 종목을 **과감히 제거**하거나 **별도 카테고리**로 분리해야 합니다.
- **제거 대상 키워드**: `스팩`, `제X호`, `우`, `우B`, `ETF`, `ETN`, `TIGER`, `KODEX`, `SOL`, `KBSTAR` 등
- **효과**: 이렇게만 해도 '2차전지' 테마의 `KB 레버리지...`나 '에너지' 테마의 `TIGER...`가 사라지고 진짜 주식인 `에코프로`, `두산에너빌리티`가 상위로 올라오게 됩니다.

### ✅ Step 2: "스팩/우선주" 별도 처리
스팩이나 우선주가 시장의 주도 테마인 날도 있습니다. 아예 지우기보다는 Tima처럼 **`개별이슈`** 테마로 몰아넣거나, 화면 하단에 별도 영역으로 빼는 것이 좋습니다.

### ✅ Step 3: 테마명 간소화
AI 프롬프트를 수정하여 테마명을 더 직관적이고 짧게(단어 위주) 뽑도록 지시해야 합니다.
- `에너지 (원자력 & SMR)` -> `원자력` 또는 `에너지`
- `제약/바이오` -> `바이오`

### ✅ Step 4: 거래대금 가중치 적용
단순 등락률 순 정렬이 아니라, **(등락률 x 거래대금)** 점수를 반영하여, 거래량이 터진 대장주가 상단에 오르도록 정렬 로직을 개선해야 합니다.
